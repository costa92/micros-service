# Copyright 2024 costalong <costa9293@gmail.com>. All rights reserved.
# Use of this source code is governed by a MIT style
# license that can be found in the LICENSE file. The original repo for
# this file is https://github.com/costa92/micros-service

# syntax=docker/dockerfile:1.4


# Dockerfile generated by hack/gen-dockerfile.sh. DO NOT EDIT.

# Build the pay-server binary
# Run this with docker build --build-arg prod_image=<golang:x.y.z>
# Default <prod_image> is debian:trixie
ARG prod_image=debian:trixie

FROM ${prod_image}
LABEL maintainer="<costa9293@gmail.com>"

WORKDIR /opt/project

# Note: the <prod_image> is required to support
# setting timezone otherwise the build will fail
RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && \
      echo "Asia/Shanghai" > /etc/timezone

COPY pay-server /opt/project/bin/

ENTRYPOINT ["/opt/project/bin/pay-server"]
